// News MCP Database ERD
digraph ERD {
	rankdir=TB
	node [fillcolor=lightblue shape=record style=filled]
	edge [arrowhead=crow]
	alembic_version [label="{<b>alembic_version</b>|• version_num character\l}" fillcolor=lightblue shape=record]
	analysis_presets [label="{<b>analysis_presets</b>|<font color='red'>• id</font> bigint\l• name text\l• description text\l• scope_json jsonb\l• params_json jsonb\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor="#B4E5FF" shape=record]
	analysis_run_items [label="{<b>analysis_run_items</b>|<font color='red'>• id</font> bigint\l• run_id bigint\l• item_id bigint\l• state text\l• created_at timestamp\l• started_at timestamp\l• completed_at timestamp\l• error_message text\l• tokens_used integer\l• cost_usd numeric\l}" fillcolor="#FFE5B4" shape=record]
	analysis_runs [label="{<b>analysis_runs</b>|<font color='red'>• id</font> bigint\l• created_at timestamp\l• updated_at timestamp\l• scope_json jsonb\l• params_json jsonb\l• scope_hash text\l• status text\l• queued_count integer\l• processed_count integer\l• failed_count integer\l... +11 more\l}" fillcolor="#B4E5FF" shape=record]
	basetablemodel [label="{<b>basetablemodel</b>|• created_at timestamp\l• updated_at timestamp\l<font color='red'>• id</font> integer\l}" fillcolor=lightblue shape=record]
	categories [label="{<b>categories</b>|<font color='red'>• id</font> integer\l• name character\l• description character\l• color character\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor="#FFE5B4" shape=record]
	content_processing_logs [label="{<b>content_processing_logs</b>|<font color='red'>• id</font> integer\l• item_id integer\l• feed_id integer\l• processor_type USER-DEFINED\l• processing_status USER-DEFINED\l• original_title character\l• processed_title character\l• original_description character\l• processed_description character\l• transformations_applied character\l... +5 more\l}" fillcolor=lightblue shape=record]
	dynamic_feed_templates [label="{<b>dynamic_feed_templates</b>|<font color='red'>• id</font> integer\l• name character\l• description character\l• version character\l• url_patterns character\l• field_mappings character\l• content_processing_rules character\l• quality_filters character\l• categorization_rules character\l• fetch_settings character\l... +7 more\l}" fillcolor="#FFB4E5" shape=record]
	feed_categories [label="{<b>feed_categories</b>|• feed_id integer\l• category_id integer\l<font color='red'>• id</font> integer\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor="#FFE5B4" shape=record]
	feed_configuration_changes [label="{<b>feed_configuration_changes</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• template_id integer\l• change_type character\l• old_config character\l• new_config character\l• applied_at timestamp\l• created_by character\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor=lightblue shape=record]
	feed_health [label="{<b>feed_health</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• ok_ratio double\l• consecutive_failures integer\l• avg_response_time_ms double\l• last_success timestamp\l• last_failure timestamp\l• uptime_24h double\l• uptime_7d double\l• updated_at timestamp\l... +1 more\l}" fillcolor="#D4FFB4" shape=record]
	feed_limits [label="{<b>feed_limits</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• max_analyses_per_day integer\l• max_analyses_per_hour integer\l• min_interval_minutes integer\l• daily_cost_limit double\l• monthly_cost_limit double\l• cost_alert_threshold double\l• max_items_per_analysis integer\l• max_queue_priority character\l... +12 more\l}" fillcolor=lightblue shape=record]
	feed_metrics [label="{<b>feed_metrics</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• metric_date date\l• total_analyses integer\l• auto_analyses integer\l• manual_analyses integer\l• scheduled_analyses integer\l• total_items_processed integer\l• successful_items integer\l• failed_items integer\l... +17 more\l}" fillcolor="#D4FFB4" shape=record]
	feed_processor_configs [label="{<b>feed_processor_configs</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• processor_type USER-DEFINED\l• config_json character\l• is_active boolean\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor="#FFB4E5" shape=record]
	feed_scheduler_state [label="{<b>feed_scheduler_state</b>|<font color='red'>• id</font> integer\l• scheduler_instance character\l• last_config_check timestamp\l• last_feed_config_hash character\l• last_template_config_hash character\l• is_active boolean\l• started_at timestamp\l• last_heartbeat timestamp\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor=lightblue shape=record]
	feed_template_assignments [label="{<b>feed_template_assignments</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• template_id integer\l• custom_overrides character\l• is_active boolean\l• priority integer\l• assigned_by character\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor="#FFB4E5" shape=record]
	feed_types [label="{<b>feed_types</b>|<font color='red'>• id</font> integer\l• name character\l• default_interval_minutes integer\l• description character\l• created_at timestamp\l}" fillcolor=lightblue shape=record]
	feed_violations [label="{<b>feed_violations</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• violation_type character\l• violation_date date\l• violation_time timestamp\l• limit_value double\l• actual_value double\l• threshold_percentage double\l• action_taken character\l• auto_resolved boolean\l... +5 more\l}" fillcolor=lightblue shape=record]
	feeds [label="{<b>feeds</b>|<font color='red'>• id</font> integer\l• url character\l• title character\l• description character\l• status USER-DEFINED\l• fetch_interval_minutes integer\l• last_fetched timestamp\l• next_fetch_scheduled timestamp\l• last_modified character\l• etag character\l... +6 more\l}" fillcolor="#FFE5B4" shape=record]
	fetch_log [label="{<b>fetch_log</b>|<font color='red'>• id</font> integer\l• feed_id integer\l• started_at timestamp\l• completed_at timestamp\l• status character\l• items_found integer\l• items_new integer\l• error_message character\l• response_time_ms integer\l}" fillcolor="#D4FFB4" shape=record]
	item_analysis [label="{<b>item_analysis</b>|• item_id bigint\l• sentiment_json jsonb\l• impact_json jsonb\l• model_tag text\l• updated_at timestamp\l}" fillcolor="#B4E5FF" shape=record]
	item_tags [label="{<b>item_tags</b>|<font color='red'>• id</font> integer\l• item_id integer\l• tag character\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor=lightblue shape=record]
	items [label="{<b>items</b>|<font color='red'>• id</font> integer\l• title character\l• link character\l• description character\l• content character\l• author character\l• published timestamp\l• guid character\l• content_hash character\l• feed_id integer\l... +1 more\l}" fillcolor="#FFE5B4" shape=record]
	processor_templates [label="{<b>processor_templates</b>|<font color='red'>• id</font> integer\l• name character\l• processor_type USER-DEFINED\l• description character\l• config_json character\l• url_patterns character\l• is_builtin boolean\l• is_active boolean\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor=lightblue shape=record]
	queue_metrics [label="{<b>queue_metrics</b>|<font color='red'>• id</font> integer\l• metric_date date\l• metric_hour integer\l• items_processed integer\l• items_failed integer\l• items_cancelled integer\l• total_processing_time_seconds double\l• avg_processing_time_seconds double\l• min_processing_time_seconds double\l• max_processing_time_seconds double\l... +12 more\l}" fillcolor="#D4FFB4" shape=record]
	queued_runs [label="{<b>queued_runs</b>|<font color='red'>• id</font> integer\l• priority USER-DEFINED\l• status USER-DEFINED\l• scope_hash character\l• triggered_by character\l• scope_json json\l• params_json json\l• created_at timestamp\l• started_at timestamp\l• completed_at timestamp\l... +3 more\l}" fillcolor=lightblue shape=record]
	sources [label="{<b>sources</b>|<font color='red'>• id</font> integer\l• name character\l• type USER-DEFINED\l• description character\l• created_at timestamp\l• updated_at timestamp\l}" fillcolor="#FFE5B4" shape=record]
	user_settings [label="{<b>user_settings</b>|<font color='red'>• id</font> integer\l• default_limit integer\l• default_rate_per_second double\l• default_model_tag character\l• default_dry_run boolean\l• default_override_existing boolean\l• extra_settings json\l• created_at timestamp\l• updated_at timestamp\l• user_id character\l}" fillcolor="#FFB4E5" shape=record]
	analysis_run_items -> items [label="item_id→id" fontsize=10]
	analysis_run_items -> analysis_runs [label="run_id→id" fontsize=10]
	content_processing_logs -> feeds [label="feed_id→id" fontsize=10]
	content_processing_logs -> items [label="item_id→id" fontsize=10]
	feed_categories -> categories [label="category_id→id" fontsize=10]
	feed_categories -> feeds [label="feed_id→id" fontsize=10]
	feed_configuration_changes -> feeds [label="feed_id→id" fontsize=10]
	feed_configuration_changes -> dynamic_feed_templates [label="template_id→id" fontsize=10]
	feed_health -> feeds [label="feed_id→id" fontsize=10]
	feed_limits -> feeds [label="feed_id→id" fontsize=10]
	feed_metrics -> feeds [label="feed_id→id" fontsize=10]
	feed_processor_configs -> feeds [label="feed_id→id" fontsize=10]
	feed_template_assignments -> feeds [label="feed_id→id" fontsize=10]
	feed_template_assignments -> dynamic_feed_templates [label="template_id→id" fontsize=10]
	feed_violations -> analysis_runs [label="analysis_run_id→id" fontsize=10]
	feed_violations -> feeds [label="feed_id→id" fontsize=10]
	feeds -> feed_types [label="feed_type_id→id" fontsize=10]
	feeds -> sources [label="source_id→id" fontsize=10]
	fetch_log -> feeds [label="feed_id→id" fontsize=10]
	item_analysis -> items [label="item_id→id" fontsize=10]
	item_tags -> items [label="item_id→id" fontsize=10]
	items -> feeds [label="feed_id→id" fontsize=10]
}
